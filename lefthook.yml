pre-commit:
  parallel: true
  commands:
    lint:
      glob: "frontend/**/*.{js,ts,vue}"
      run: pnpm eslint "{staged_files}" --max-warnings 0 --config eslint.config.js --no-warn-ignored

    format:
      glob: "frontend/**/*.{js,ts,vue,css,scss, json, yaml, yml, md}"
      run: pnpm prettier --write "{staged_files}"
      stage_fixed: true

post-merge:
  parallel: true
  files: "git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD"
  skip:
    - rebase
  commands:
    install:
      glob: "frontend/{pnpm-lock.yaml, package.json}"
      run: pnpm install
# TODO: set the scripts in Taskfile and use them here, in order to avoid duplication
# TODO: implement ci pipeline
